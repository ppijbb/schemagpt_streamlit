!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("chart.js")):"function"==typeof define&&define.amd?define(["chart.js"],e):t.ChartjsLinearGauge=e(t.Chart)}(this,function(t){"use strict";var e="default"in t?t.default:t,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},a=t.helpers,r={id:"gaugescale",position:"chartArea",fullWidth:!0,display:!0,range:{startValue:-100,endValue:500},responsive:!0,font:{fontName:"Arial",fontSize:12},axisWidth:6,axisColor:"#00f",ticks:{padding:5,callback:function(t){return t.tick.toString()}},padding:{top:10,bottom:10,left:20,right:20},scaleLabel:{display:!0}};t.Scale.LinearGaugeScale=t.Scale.extend({textDimention:function(t){var e=0,i=this.options.font.fontSize;return e=i/1.7*(t+"").length,"-"===t.substr(0,1)&&(e-=i/3.5),{width:e,height:i}},setDimensions:function(){this.height=this.maxHeight,this.width=this.maxWidth,this.xCenter=this.left+Math.round(this.width/2),this.yCenter=this.top+Math.round(this.height/2),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0},labelsFromTicks:function(t){var e,i,o=[];for(e=0,i=t.length;e<i;++e)o.push(t[e].label);return o},buildTicks:function(){var t=this.options,e=t.ticks,o=[];if("object"==i(t.ticks.majorTicks)&&null!==t.ticks.majorTicks&&t.ticks.majorTicks.interval>0){var a=[];if(void 0!==t.ticks.majorTicks.customValues&&void 0!==t.ticks.majorTicks.customValues.length&&t.ticks.majorTicks.customValues.length>0)a=t.ticks.majorTicks.customValues;else for(var r=t.ticks.majorTicks.interval,s=(t.range.endValue-t.range.startValue)/r,n=0;n<s-1;n++)a.push(t.range.startValue+r*(n+1));for(var n in this.majTicks=a,a)o.push({type:"major",tick:a[n]});e.majorTicks.interval=e.majorTicks.interval||100,e.majorTicks.customValues=e.majorTicks.customValues||[],e.majorTicks.width=e.majorTicks.width||6,e.majorTicks.height=e.majorTicks.height||1,e.majorTicks.offset=e.majorTicks.offset||0,e.majorTicks.color=e.majorTicks.color||"#fff"}if("object"==i(t.ticks.minorTicks)&&null!==t.ticks.minorTicks&&t.ticks.minorTicks.interval>0){var l=[];if(void 0!==t.ticks.minorTicks.customValues&&void 0!==t.ticks.minorTicks.customValues.length&&t.ticks.minorTicks.customValues.length>0)l=t.ticks.minorTicks.customValues;else{r=t.ticks.minorTicks.interval;var h=(t.range.endValue-t.range.startValue)/r;for(n=0;n<h-1;n++)l.push(t.range.startValue+r*(n+1))}for(var n in this.minTicks=l,l)o.push({type:"minor",tick:l[n]});e.minorTicks.interval=e.minorTicks.interval||50,e.minorTicks.customValues=e.minorTicks.customValues||[],e.minorTicks.width=e.minorTicks.width||4,e.minorTicks.height=e.minorTicks.height||1,e.minorTicks.offset=e.minorTicks.offset||-2,e.minorTicks.color=e.minorTicks.color||"#fff"}return o},convertTicksToLabels:function(t){var e=this.options,o=e.scaleLabel,a=[];if("object"==(void 0===o?"undefined":i(o))&&null!==o&&o.interval>0){if(o.customValues&&o.customValues.length>0)a=o.customValues;else for(var r=o.interval,s=(e.range.endValue-e.range.startValue)/r+1,n=0;n<s;n++)a.push(e.range.startValue+r*n);this.labelVals=a}return this.tickLabels=a,a},calculateTickRotation:a.noop,getBase:function(){return void 0!==this.scalePoint?this.scalePoint(0):0},fit:function(){var t,e=this,i=e.minSize={width:0,height:0},o=(e.labelsFromTicks(e._ticks),e.options),s=(o.ticks,o.scaleLabel),n=o.gridLines,l=o.display,h=e.isHorizontal(),d=(o.font.fontName,o.gridLines.tickMarkLength);if(this.scalePoint=h?function(t){var i=(this.width-o.padding.left-o.padding.right)/(o.range.endValue-o.range.startValue);return Math.round(t*i+o.padding.left+e.left-o.range.startValue*i)}:function(t){var i=(this.height-o.padding.top-o.padding.bottom)/(o.range.endValue-o.range.startValue);return Math.round(this.height-(t*i-o.range.startValue*i)-o.padding.bottom+e.top)},e.xCenter=this.left+this.width/2,e.yCenter=this.top+this.height/2,i.width=h?e.isFullWidth()?e.maxWidth-e.margins.left-e.margins.right:e.maxWidth:l&&n.drawTicks?d:0,i.height=h?l&&n.drawTicks?d:0:e.maxHeight,s.display&&l){var c=(t=s,a.options.toLineHeight(a.valueOrDefault(t.lineHeight,1.2),a.valueOrDefault(t.fontSize,r.font.fontSize)))+a.options.toPadding(s.padding).height;h?i.height+=c:i.width+=c}e.handleMargins(),e.width=i.width,e.height=i.height},draw:function(){var t=this.ctx,e=this.isHorizontal(),o=this.options,r=o.ticks;if(t.textBaseline="alphabetic",t.textAlign="start",e){if(t.beginPath(),t.fillStyle=o.axisColor,t.rect(this.xCenter-this.width/2+o.padding.left,this.yCenter-o.axisWidth/2,this.width-o.padding.left-o.padding.right,o.axisWidth),t.fill(),t.closePath(),"object"==i(o.scaleColorRanges)&&o.scaleColorRanges.length>0&&a.each(o.scaleColorRanges,function(e,i){var a=this.scalePoint(e.end)-this.scalePoint(e.start),r=o.axisWidth;t.beginPath(),t.fillStyle=e.color,t.rect(this.scalePoint(e.start),this.yCenter-r/2,a,r),t.fill()},this),t.beginPath(),"object"==i(this.minTicks)&&this.minTicks.length>0){t.fillStyle=r.minorTicks.color,t.strokeStyle=r.minorTicks.color,t.lineWidth=r.minorTicks.height;for(var s=0;s<this.minTicks.length;s++){var n=this.minTicks[s];t.moveTo(this.scalePoint(n)-r.minorTicks.height/2,this.yCenter-r.minorTicks.width/2+r.minorTicks.offset),t.lineTo(this.scalePoint(n)-r.minorTicks.height/2,this.yCenter-r.minorTicks.width/2+r.minorTicks.offset+r.minorTicks.width),t.stroke()}}if(t.closePath(),t.beginPath(),"object"==i(this.majTicks)&&this.majTicks.length>0){t.fillStyle=r.majorTicks.color,t.strokeStyle=r.majorTicks.color,t.lineWidth=r.majorTicks.height;for(s=0;s<this.majTicks.length;s++){n=this.majTicks[s];t.moveTo(this.scalePoint(n)-r.majorTicks.height/2,this.yCenter-r.majorTicks.width/2+r.majorTicks.offset),t.lineTo(this.scalePoint(n)-r.majorTicks.height/2,this.yCenter-r.majorTicks.width/2+r.majorTicks.offset+r.majorTicks.width),t.stroke()}}t.closePath();var l=this.labelsFromTicks(this._ticks);if(t.beginPath(),"object"==(void 0===l?"undefined":i(l))&&l.length>0){t.fillStyle=o.scaleLabel.color,t.font=o.font.fontSize+"px "+o.font.fontName;for(s=0;s<l.length;s++){n=l[s];if(o.scaleLabel.display){var h=n+o.scaleLabel.units;t.fillText(h,this.scalePoint(n)-this.textDimention(h).width/2,this.yCenter+(o.scaleLabel.offset>0?0:this.textDimention(h).height)-o.scaleLabel.offset)}}}t.closePath()}else{if(t.beginPath(),t.fillStyle=o.axisColor,t.rect(this.xCenter-o.axisWidth/2,this.yCenter-this.height/2+o.padding.top,o.axisWidth,this.height-o.padding.top-o.padding.bottom),t.fill(),t.closePath(),"object"==i(o.scaleColorRanges)&&o.scaleColorRanges.length>0&&a.each(o.scaleColorRanges,function(e,i){var a=o.axisWidth,r=this.scalePoint(e.start)-this.scalePoint(e.end);t.beginPath(),t.fillStyle=e.color,t.rect(this.xCenter-a/2,this.scalePoint(e.end),a,r),t.fill()},this),t.beginPath(),"object"==i(this.minTicks)&&this.minTicks.length>0){t.fillStyle=r.minorTicks.color,t.strokeStyle=r.minorTicks.color,t.lineWidth=r.minorTicks.height;for(s=0;s<this.minTicks.length;s++){n=this.minTicks[s];t.moveTo(Math.ceil(this.xCenter-r.minorTicks.width/2+r.minorTicks.offset),Math.ceil(this.scalePoint(n))+.5),t.lineTo(Math.ceil(this.xCenter-r.minorTicks.width/2+r.minorTicks.offset+r.minorTicks.width),Math.ceil(this.scalePoint(n))+.5),t.stroke()}}if(t.closePath(),t.beginPath(),"object"==i(this.majTicks)&&this.majTicks.length>0){t.fillStyle=r.majorTicks.color,t.strokeStyle=r.majorTicks.color,t.lineWidth=r.majorTicks.height;for(s=0;s<this.majTicks.length;s++){n=this.majTicks[s];t.moveTo(Math.ceil(this.xCenter-r.majorTicks.width/2+r.majorTicks.offset),Math.ceil(this.scalePoint(n))+.5),t.lineTo(Math.ceil(this.xCenter-r.majorTicks.width/2+r.majorTicks.offset+r.majorTicks.width),Math.ceil(this.scalePoint(n))+.5),t.stroke()}}t.closePath();l=this.labelsFromTicks(this._ticks);if(t.beginPath(),"object"==(void 0===l?"undefined":i(l))&&l.length>0){t.fillStyle=o.scaleLabel.color,t.font=o.font.fontSize+"px "+o.font.fontName;for(s=0;s<l.length;s++){n=parseFloat(l[s]);if(o.scaleLabel.display){h=n+o.scaleLabel.units;t.fillText(h,this.xCenter-(o.scaleLabel.offset>0?0:this.textDimention(h).width)+o.scaleLabel.offset,this.scalePoint(n)+this.textDimention(h).height/4)}}}t.closePath()}},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position||this.options.horizontal}}),t.scaleService.registerScaleType("linearGauge",t.Scale.LinearGaugeScale,r),t.Scale.LinearGaugeScale;var s=t.helpers,n=t.defaults.global;t.defaults._set("global",{elements:{gaugerect:{backgroundColor:"#0fa",borderWidth:3,borderColor:n.defaultColor,borderCapStyle:"butt",fill:!0,width:6,height:6,shape:"rect",pointer:"bar",text:"Pointer Text",fontSize:14,fontFamily:"Arial",offset:0,rotate:0,color:"#000"}}}),t.elements.Gaugerect=t.elements.Rectangle.extend({rangeColorImage:null,generateImage:function(t,e){for(var i=0,o=0;o<e.length;o++)i+=e[o];var a=document.createElement("canvas"),r=a.getContext("2d");a.width=i,a.height=1;var s=e[0],n=r.createLinearGradient(0,0,i,0);n.addColorStop(0,t[0]);for(var l=0;l<t.length;l++){if(l+1<t.length){var h=(s+=e[l+1]/2)/i;h>1&&(h=1),n.addColorStop(h,t[l+1])}else n.addColorStop(1,t[l]);r.closePath(),l+1<t.length&&(s+=e[l+1]/2)}return r.fillStyle=n,r.fillRect(0,0,i,20),r.getImageData(0,0,a.width,1)},getColor:function(t,e){var i=this.getMeOptions();if(null===this.rangeColorImage){var o=[],a=[];s.each(i.colorRanges,function(t,r){0===r?a.push((t.breakpoint-this._Scale.options.range.startValue)*e):a.push((t.breakpoint-i.colorRanges[r-1].breakpoint)*e),o.push(t.color)},this),this.rangeColorImage=this.generateImage(o,a)}var r=this._Scale.options.range.startValue,n=Math.ceil((t-r)*e);return"rgba("+this.rangeColorImage.data[4*n+0]+", "+this.rangeColorImage.data[4*n+1]+", "+this.rangeColorImage.data[4*n+2]+", "+this.rangeColorImage.data[4*n+3]/256+")"},getMeOptions:function(){var t=this._datasetIndex;return this._chart.config.data.datasets[t]},draw:function(){var t=this,e=t._view,o=t._chart.ctx,a=t.getMeOptions(),r=t._model.horizontal,n=t._chart.options.elements.gaugerect;if(o.save(),"object"==i(a.colorRanges)&&a.colorRanges.length>0){var l=t.getColor(t._model.value,t._model.scaleValue);o.fillStyle=l}else o.fillStyle=t._model.backgroundColor;if(a.pointer=a.pointer?a.pointer:n.pointer,void 0===a.img||null===a.img){if(void 0!==a.pointer&&"bar"!==a.pointer||(o.beginPath(),o.rect(e.x,e.y,e.width,e.height),o.fill(),o.restore()),"point"===a.pointer){var h=a.shape?a.shape:n.shape;L=t._view.width=a.width?a.width:n.width,M=t._view.height=a.height?a.height:n.height;if("circle"==h){if(r)R=t._view.x=e.head,D=e.y;else R=e.x,D=e.y;W=L/2;var d=2*Math.PI;o.beginPath(),o.arc(R,D,W,0,d,!1),o.fill(),o.restore()}if("rect"==h){if(r){t._view.x=e.head;R=e.head-L/2,D=e.y-M/2}else R=e.x-L/2,D=e.y-M/2;o.beginPath(),o.rect(R,D,L,M),o.fill(),o.restore()}if("triangle"==h){if(r)var c=t._view.x=e.head,g=e.y+M/2,f=(b=c-L/2)+L,u=x=g-M;else c=e.x-L/2+L,g=e.y,f=b=c+L,u=(x=g-M/2)+M;o.beginPath(),o.moveTo(c,g),o.lineTo(b,x),o.lineTo(f,u),o.fill(),o.restore()}if("inverted-triangle"==h){if(r)c=t._view.x=e.head,g=e.y-M/2,f=(b=c-L/2)+L,u=x=g+M;else c=e.x+L/2+L,g=e.y,f=b=c-L,u=(x=g-M/2)+M;o.beginPath(),o.moveTo(c,g),o.lineTo(b,x),o.lineTo(f,u),o.fill(),o.restore()}if("bowtie"==h){if(r){c=t._view.x=e.head,g=e.y+L,f=(b=c-M/2)+M,u=x=g-L/2;var m=e.head,v=e.y+L,p=(T=m-M/2)+M,k=y=v+L/2}else c=e.x,g=e.y,f=b=c+L/2,u=(x=g-M/2)+M,m=e.x,v=e.y,p=T=m-L/2,k=(y=v-M/2)+M;o.beginPath(),o.moveTo(c,g),o.lineTo(b,x),o.lineTo(f,u),o.closePath(),o.fill(),o.beginPath(),o.lineTo(m,v),o.lineTo(T,y),o.lineTo(p,k),o.fill(),o.restore()}if("diamond"==h){if(r)c=t._view.x=e.head,g=e.y-L/2+L,f=(b=c-M/2)+M,u=x=g+L/2+.5,m=e.head,v=e.y+L/2+L,p=(T=m-M/2)+M,k=y=v-L/2;else{var b,x,T,y;c=e.x-L/2,g=e.y,f=b=c+L/2+.5,u=(x=g-M/2)+M,m=e.x+L/2,v=e.y,p=T=m-L/2,k=(y=v-M/2)+M}o.beginPath(),o.moveTo(c,g),o.lineTo(b,x),o.lineTo(f,u),o.closePath(),o.fill(),o.beginPath(),o.lineTo(m,v),o.lineTo(T,y),o.lineTo(p,k),o.fill(),o.restore()}}if("text"===a.pointer){var w=a.rotate?a.rotate:n.rotate,C=a.text?a.text:n.text,_=a.fontSize?a.fontSize:n.fontSize,j=a.fontFamily?a.fontFamily:n.fontFamily;a.offset?a.offset:n.offset,a.color?a.color:n.color;if(void 0!==a.textRanges&&void 0!==a.textRanges.length&&a.textRanges.length>0)for(var P in a.textRanges){W=a.textRanges[P];if(t._model.value>=W.startpoint&&t._model.value<W.breakpoint&&void 0!==W.text&&""!==W.text){C=W.text;break}}o.beginPath(),o.font=_+"px "+j;var S=[];S.push(C);var V=s.longestText(o,o.font,S);r&&(e.x=t._view.x=e.head),void 0!==a.textPosition&&"center"===a.textPosition?o.translate(e.x-V/2,e.y+_/3):void 0!==a.textPosition&&"right"===a.textPosition?o.translate(e.x-V,e.y+_/3):o.translate(e.x,e.y+_/3),o.rotate(2*Math.PI*(w/360)),o.fillText(C,0,0),o.restore()}}else{var I=a.img;if(void 0!==a.imageRanges&&void 0!==a.imageRanges.length&&a.imageRanges.length>0)for(var P in a.imageRanges){var W=a.imageRanges[P];if(t._model.value>=W.startpoint&&t._model.value<W.breakpoint&&void 0!==W.img&&""!==W.img){I=W.img;break}}void 0===this.imgs&&(this.imgs=[]);var z=null;for(var P in this.imgs){this.imgs[P].src===I&&(z=this.imgs[P]);break}null===z&&(z=new Image),z.src=I,this.imgs.push(z);var L=t._view.width=a.width?a.width:n.width,M=t._view.height=a.height?a.height:n.height;if(r){t._view.x=e.head;var R=e.head-L/2,D=e.y+M/2}else var R=e.x-L/2,D=e.y-M/2;z.complete?(o.beginPath(),o.drawImage(z,0,0,z.width,z.height,R,D,L,M),o.restore()):z.onload=function(){o.beginPath(),o.drawImage(z,0,0,z.width,z.height,R,D,L,M),o.restore()}}},tooltipPosition:function(){var t=this.getMeOptions(),e=this._chart.options.elements.gaugerect,i=t.shape?t.shape:e.shape;if(void 0!==t.img&&null!==t.img){var o=this._view;if(this._model.horizontal)var a=o.x,r=o.y+o.height/2;else a=o.x,r=o.y-o.height/2;return{x:a,y:r}}if(this._view&&(void 0===t.pointer||"bar"===t.pointer))return{x:(o=this._view).x+(this._model.horizontal?o.width:o.width/2),y:o.y+(this._model.horizontal?o.height/2:0)};if(this._view&&void 0!==t.pointer&&"point"===t.pointer){a=(o=this._view).x,r=o.y;if(("triangle"===i||"inverted-triangle"===i)&&!this._model.horizontal)a=o.x+o.width;r=o.y;if(("triangle"===i||"inverted-triangle"===i)&&this._model.horizontal)a=o.x;return{x:a,y:r=o.y}}},inRange:function(t,e){var i=!1,o=this.getMeOptions(),a=this._chart.options.elements.gaugerect,r=o.shape?o.shape:a.shape;if(void 0!==o.img&&null!==o.img){var s=this._view;return i=this._model.horizontal?t>=s.x-s.width/2&&t<=s.x+s.width/2&&e>=s.y+s.height/2&&e<=s.y+s.height+s.height/2:t>=s.x-s.width/2&&t<=s.x+s.width/2&&e>=s.y-s.height/2&&e<=s.y+s.height/2,i}!this._view||void 0!==o.pointer&&"bar"!==o.pointer||((s=this._view).width>=0&&s.height>=0&&(i=t>=s.x&&t<=s.x+s.width&&e>=s.y&&e<=s.y+s.height),s.width<0&&s.height>=0&&(i=t>=s.x+s.width&&t<=s.x&&e>=s.y&&e<=s.y+s.height),s.width>=0&&s.height<0&&(i=t>=s.x&&t<=s.x+s.width&&e>=s.y+s.height&&e<=s.y),s.width<0&&s.height<0&&(i=t>=s.x+s.width&&t<=s.x&&e>=s.y+s.height&&e<=s.y));this._view&&void 0!==o.pointer&&"point"===o.pointer&&(i=t>=(s=this._view).x-s.width/2&&t<=s.x+s.width/2&&e>=s.y-s.height/2&&e<=s.y+s.height/2,"triangle"!==r&&"inverted-triangle"!==r||this._model.horizontal||(i=t>=s.x+s.width/2&&t<=s.x+s.width+s.width/2&&e>=s.y-s.height/2&&e<=s.y+s.height/2),"triangle"!==r&&"inverted-triangle"!==r||!this._model.horizontal||(i=t>=s.x-s.width/2&&t<=s.x+s.width/2&&e>=s.y-s.height/2&&e<=s.y+s.height/2));return i}}),t.elements.Gaugerect;var l=e.helpers;e.plugins;e.defaults.global.animation.duration=1e3,e.defaults._set("linearGauge",{scale:{type:"linearGauge",horizontal:!1,range:{startValue:-100,endValue:500},responsive:!0,font:{fontName:"Arial",fontSize:12},axisWidth:6,ticks:{majorTicks:{interval:100,height:1}},scaleLabel:{display:!0,interval:100,units:"",customValues:[],offset:-10,color:"#777b80"}},padding:{top:0,bottom:0,left:0,right:0},tooltips:{callbacks:{label:function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i&&(i+=": "),i+=Math.round(100*e.datasets[t.datasetIndex].data[0])/100,i}}},legend:{display:!0,labels:{fontColor:"rgb(0, 0, 0)"},position:"bottom"}});var h,d,c=function(t){t.LinearGauge=function(e,i){return i.type="linearGauge",new t(e,i)}};return(h=e).controllers.linearGauge=h.DatasetController.extend((d={dataElementType:h.elements.Gaugerect,linkScales:l.noop,initialize:function(){h.DatasetController.prototype.initialize.apply(this,arguments),this.getMeta()}},o(d,"linkScales",l.noop),o(d,"update",function(t){var e,i,o=this,a=o.getMeta().data;for(o.datashifts=0,e=0,i=a.length;e<i;++e)o.updateElement(a[e],e,o.datashifts),o.datashifts+=10}),o(d,"updateElement",function(t,e,i){var o=this,a=o.chart,r=(o.getMeta(),o.getDataset()),s=t.custom||{},n=a.options.elements.rectangle,h=a.options.elements.gaugerect;t._Scale=o.getScaleForId(a.options.scale.id||"gaugescale"),t._datasetIndex=o.index,t._index=e,t.rangeColorImage=null,t._model={datasetLabel:r.label,label:a.data.labels[e],borderSkipped:s.borderSkipped?s.borderSkipped:n.borderSkipped,backgroundColor:s.backgroundColor?s.backgroundColor:l.valueAtIndexOrDefault(r.backgroundColor,e,h.backgroundColor),borderColor:s.borderColor?s.borderColor:l.valueAtIndexOrDefault(r.borderColor,e,n.borderColor),borderWidth:s.borderWidth?s.borderWidth:l.valueAtIndexOrDefault(r.borderWidth,e,n.borderWidth)},void 0===t._view&&(t._view={}),o.updateElementGeometry(t,e,i)}),o(d,"updateElementGeometry",function(t,e,i){var o=this,a=t._model,r=t._view,s=(o.getDataset().data,o.getDataset()),n=o.chart,l=n.data.datasets,h=n.options.elements.gaugerect,d=o.getScaleForId(n.options.scale.id||"gaugescale"),c=d.getBase(),g=t._Scale.isHorizontal(),f=o.calculateBarValuePixels(o.index,e,g);a.horizontal=g,a.base=c,a.head=f.head,a.x=g?f.base:f.offset,a.y=g?f.offset-(s.width||h.width):f.head,a.height=g?s.width||h.width:f.base-f.head,a.width=g?f.head-f.base:s.width||h.width,a.value=d.getRightValue(l[o.index].data[e]),a.scaleValue=0,a.scaleValue=g?d.width/(d.options.range.endValue-d.options.range.startValue):d.height/(d.options.range.endValue-d.options.range.startValue),void 0===r.x&&void 0===r.y&&(g?(r.x=f.base,r.width=0):(r.y=f.base,r.height=0))}),o(d,"calculateBarValuePixels",function(t,e,i){var o,a,r,s=this.chart,n=this.getScaleForId(s.options.scale.id||"gaugescale"),l=s.data.datasets,h=l[t],d=n.getRightValue(l[t].data[e]);return n.options.stacked,o=n.scalePoint(0),{size:r=((a=n.scalePoint(0+d))-o)/2,base:o,head:a,center:a+r/2,offset:i?n.yCenter-h.offset:n.xCenter+h.offset}}),o(d,"draw",function(){var t=this.chart,e=this.getMeta().data,i=this.getDataset(),o=e.length,a=0;for(l.canvas.clipArea(t.ctx,t.chartArea);a<o;++a)isNaN(i.data[a])||e[a].draw();l.canvas.unclipArea(t.ctx)}),o(d,"setHoverStyle",function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,o=t.custom||{},a=t._model;a.backgroundColor=o.hoverBackgroundColor?o.hoverBackgroundColor:l.valueAtIndexOrDefault(e.hoverBackgroundColor,i,l.getHoverColor(a.backgroundColor)),a.borderColor=o.hoverBorderColor?o.hoverBorderColor:l.valueAtIndexOrDefault(e.hoverBorderColor,i,l.getHoverColor(a.borderColor)),a.borderWidth=o.hoverBorderWidth?o.hoverBorderWidth:l.valueAtIndexOrDefault(e.hoverBorderWidth,i,a.borderWidth)}),o(d,"removeHoverStyle",function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,o=t.custom||{},a=t._model,r=this.chart.options.elements.gaugerect;a.backgroundColor=o.backgroundColor?o.backgroundColor:l.valueAtIndexOrDefault(e.backgroundColor,i,r.backgroundColor),a.borderColor=o.borderColor?o.borderColor:l.valueAtIndexOrDefault(e.borderColor,i,r.borderColor),a.borderWidth=o.borderWidth?o.borderWidth:l.valueAtIndexOrDefault(e.borderWidth,i,r.borderWidth)}),d)),c(e),c});